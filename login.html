<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OldPeopleSpace — Login</title>

  <link rel="icon" href="logos/oldpeoplespace.png" />
  <link rel="stylesheet" href="css/style.css" />

  <!-- Supabase JS (browser CDN). -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script src="js/config.js" defer></script>
  <script src="js/supabaseClient.js" defer></script>
  <script src="js/util.js" defer></script>
  <script src="js/auth-guard.js" defer></script>
  <script src="js/app.js" defer></script>
  <script src="js/login.js" defer></script>
</head>
<body>
  <div class="topbar" id="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <a href="login.html" aria-label="OldPeopleSpace Login">
          <img src="logos/oldpeoplespace.png" alt="OldPeopleSpace logo">
        </a>
        <div class="tag">
          <strong>OldPeopleSpace</strong>
          <span>A Place for Old Faces</span>
        </div>
      </div>
      <div class="nav">
        <a class="pill primary" href="login.html">Login</a>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="banner">
      <b>Sign in</b> to access your profile and updates.
    </div>

    <div class="grid">
      <div class="card">
        <div class="hd"><h2>Authentication</h2><span class="badge">Supabase</span></div>
        <div class="bd">
          <div class="row two">
            <div>
              <div class="label"><span>Email</span><small>required</small></div>
              <input id="email" type="email" placeholder="you@domain.com" autocomplete="email" />
            </div>
            <div>
              <div class="label"><span>Password</span><small>required</small></div>
              <input id="password" type="password" placeholder="••••••••" autocomplete="current-password" />
            </div>
          </div>

          <div style="height:10px"></div>

          <div class="row two">
            <button class="btn primary" id="btnLogin" type="button">Log in</button>
            <button class="btn" id="btnSignup" type="button">Sign up</button>
          </div>

          <hr>

          <div class="label"><span>Magic link (optional)</span><small>email-based</small></div>
          <div class="row two">
            <button class="btn" id="btnMagic" type="button">Send magic link</button>
            <a class="btn" href="index.html" style="text-align:center">Continue</a>
          </div>

          <div style="height:10px"></div>

          <div class="kbd">
            Supabase configuration is provided in <b>/js/config.js</b>. Ensure your Supabase Auth Redirect URLs include your deployed site URL(s).
          </div>
        </div>
      </div>

      <div class="card">
        <div class="hd"><h2>Overview</h2></div>
        <div class="bd">
          <p style="margin-top:0">
            This site is a static front end. Supabase provides authentication and optional data persistence for posts and profiles.
          </p>
          <hr>
          <small>
            When database tables are unavailable, the application uses localStorage as a fallback.
          </small>
        </div>
      </div>
    </div>

    <div class="footer">
      <img src="logos/oldpeoplespace.png" alt="" />
      &nbsp; © <span id="yr"></span> OldPeopleSpace. All rights reserved.
    </div>
  </div>

  <div class="toast" id="toast">
    <div><b class="t-title">Notice</b></div>
    <div class="t-msg"></div>
  </div>
</body>
</html>